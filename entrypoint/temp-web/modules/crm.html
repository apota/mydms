<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRM - DMS</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/modules.css">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>
    <header>
        <div class="container">
            <h1 class="logo">DMS - Dealership Management System</h1>
            <div class="header-tools">
                <div class="global-search">
                    <input type="text" id="global-search" placeholder="Global Search...">
                    <button id="search-btn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg></button>
                </div>
                <button id="rudy-btn" class="ai-assistant-btn" title="Ask Rudy AI Assistant">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M320 0c17.7 0 32 14.3 32 32V96H472c39.8 0 72 32.2 72 72V440c0 39.8-32.2 72-72 72H168c-39.8 0-72-32.2-72-72V168c0-39.8 32.2-72 72-72H288V32c0-17.7 14.3-32 32-32zM208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H208zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H304zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H400zM264 256a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"/></svg>
                    Ask Rudy
                </button>
            </div>
        </div>
    </header>

    <nav class="navbar">
        <div class="container">
            <ul class="nav-links">
                <li><a href="../index.html">Dashboard</a></li>
                <li><a href="../user-management.html">Users</a></li>
                <li><a href="../settings.html">Settings</a></li>
                <li><a href="#" data-modal="helpModal">Help</a></li>
            </ul>
            <div class="user-nav">
                <span>Welcome, <span id="current-user">User</span></span>
                <button id="logout-btn">Logout</button>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="main-content">
            <aside class="sidebar">
                <h3>Modules</h3>
                <ul>
                    <li><a href="crm.html" class="module-link active" data-module="crm">CRM</a></li>
                    <li><a href="inventory.html" class="module-link" data-module="inventory">Inventory Management</a></li>
                    <li><a href="sales.html" class="module-link" data-module="sales">Sales Management</a></li>
                    <li><a href="service.html" class="module-link" data-module="service">Service Management</a></li>
                    <li><a href="parts.html" class="module-link" data-module="parts">Parts Management</a></li>
                    <li><a href="reporting.html" class="module-link" data-module="reporting">Reporting & Analytics</a></li>
                </ul>

                <h3>CRM Functions</h3>
                <ul>
                    <li><a href="#" class="active">Dashboard</a></li>
                    <li><a href="#">Customers</a></li>
                    <li><a href="#">Leads</a></li>
                    <li><a href="#">Communications</a></li>
                    <li><a href="#">Activities</a></li>
                    <li><a href="#">Reports</a></li>
                </ul>
            </aside>

            <main class="content">
                <div class="module-header">
                    <h2>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                            <path d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/>
                        </svg>
                        Customer Relationship Management
                    </h2>
                    <div class="module-actions">
                        <button class="btn btn-primary" id="new-customer-btn">New Customer</button>
                        <button class="btn btn-secondary" id="import-data-btn">Import Data</button>
                    </div>
                </div>

                <div class="dashboard-stats">
                    <div class="stat-card">
                        <h3>Total Customers</h3>
                        <div class="number">1,256</div>
                        <div class="trend positive">+12% from last month</div>
                    </div>
                    <div class="stat-card">
                        <h3>New Leads</h3>
                        <div class="number">85</div>
                        <div class="trend positive">+24% from last month</div>
                    </div>
                    <div class="stat-card">
                        <h3>Open Tasks</h3>
                        <div class="number">37</div>
                        <div class="trend negative">+5% from last month</div>
                    </div>
                    <div class="stat-card">
                        <h3>Follow-ups Due</h3>
                        <div class="number">16</div>
                        <div class="trend negative">+3% from last month</div>
                    </div>
                </div>

                <div class="module-section">
                    <div class="section-header">
                        <h3>Recent Customers</h3>
                        <a href="#" class="view-all">View All</a>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th class="customer-info-header">Customer Information</th>
                                    <th>Type</th>
                                    <th>Last Contact</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="customer-info">
                                        <div class="customer-name">John Smith</div>
                                        <div class="customer-contact">
                                            <div class="contact-item">
                                                <svg class="contact-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"/></svg>
                                                <a href="tel:+15551234567" class="contact-link phone-link">(555) 123-4567</a>
                                            </div>
                                            <div class="contact-item">
                                                <svg class="contact-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/></svg>
                                                <a href="mailto:john.smith@example.com" class="contact-link email-link">john.smith@example.com</a>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Sales</td>
                                    <td>June 25, 2025</td>
                                    <td class="actions">
                                        <button class="action-btn view-btn" title="View Customer" data-customer-id="1">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                                <circle cx="12" cy="12" r="3"/>
                                            </svg>
                                        </button>
                                        <button class="action-btn edit-btn" title="Edit Customer" data-customer-id="1">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                                                <path d="m18.5 2.5 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                                            </svg>
                                        </button>
                                        <button class="action-btn contact-btn" title="Contact Customer">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                                            </svg>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="customer-info">
                                        <div class="customer-name">Sarah Johnson</div>
                                        <div class="customer-contact">
                                            <div class="contact-item">
                                                <svg class="contact-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"/></svg>
                                                <a href="tel:+15559876543" class="contact-link phone-link">(555) 987-6543</a>
                                            </div>
                                            <div class="contact-item">
                                                <svg class="contact-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/></svg>
                                                <a href="mailto:sarah.johnson@example.com" class="contact-link email-link">sarah.johnson@example.com</a>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Service</td>
                                    <td>June 26, 2025</td>
                                    <td class="actions">
                                        <button class="action-btn view-btn" title="View Customer" data-customer-id="2">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                                <circle cx="12" cy="12" r="3"/>
                                            </svg>
                                        </button>
                                        <button class="action-btn edit-btn" title="Edit Customer" data-customer-id="2">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                                                <path d="m18.5 2.5 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                                            </svg>
                                        </button>
                                        <button class="action-btn contact-btn" title="Contact Customer">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                                            </svg>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="customer-info">
                                        <div class="customer-name">Michael Brown</div>
                                        <div class="customer-contact">
                                            <div class="contact-item">
                                                <svg class="contact-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"/></svg>
                                                <a href="tel:+15555551234" class="contact-link phone-link">(555) 555-1234</a>
                                            </div>
                                            <div class="contact-item">
                                                <svg class="contact-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/></svg>
                                                <a href="mailto:michael.brown@example.com" class="contact-link email-link">michael.brown@example.com</a>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Parts</td>
                                    <td>June 24, 2025</td>
                                    <td class="actions">
                                        <button class="action-btn view-btn" title="View Customer" data-customer-id="3">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                                <circle cx="12" cy="12" r="3"/>
                                            </svg>
                                        </button>
                                        <button class="action-btn edit-btn" title="Edit Customer" data-customer-id="3">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                                                <path d="m18.5 2.5 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                                            </svg>
                                        </button>
                                        <button class="action-btn contact-btn" title="Contact Customer">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                                            </svg>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="customer-info">
                                        <div class="customer-name">Emily Wilson</div>
                                        <div class="customer-contact">
                                            <div class="contact-item">
                                                <svg class="contact-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"/></svg>
                                                <a href="tel:+15557778888" class="contact-link phone-link">(555) 777-8888</a>
                                            </div>
                                            <div class="contact-item">
                                                <svg class="contact-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/></svg>
                                                <a href="mailto:emily.wilson@example.com" class="contact-link email-link">emily.wilson@example.com</a>
                                            </div>
                                        </div>
                                    </td>
                                    <td>Lead</td>
                                    <td>June 27, 2025</td>
                                    <td class="actions">
                                        <button class="action-btn view-btn" title="View Customer" data-customer-id="4">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                                <circle cx="12" cy="12" r="3"/>
                                            </svg>
                                        </button>
                                        <button class="action-btn edit-btn" title="Edit Customer" data-customer-id="4">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                                                <path d="m18.5 2.5 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                                            </svg>
                                        </button>
                                        <button class="action-btn contact-btn" title="Contact Customer">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                                            </svg>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="module-section">
                    <div class="section-header">
                        <h3>Upcoming Follow-ups</h3>
                        <a href="#" class="view-all">View All</a>
                    </div>
                    <div class="tasks-container">
                        <div class="task-card">
                            <div class="task-date">
                                <span class="month">Jun</span>
                                <span class="day">28</span>
                            </div>
                            <div class="task-details">
                                <h4>Call Sarah Johnson</h4>
                                <p>Follow up on service satisfaction and discuss new vehicle interest</p>
                                <div class="task-info">
                                    <span class="task-type service">Service</span>
                                    <span class="task-time">10:30 AM</span>
                                </div>
                            </div>
                            <div class="task-actions">
                                <button class="action-btn complete-btn" title="Complete Task">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="9,11 12,14 22,4"/>
                                        <path d="m21,12v7a2,2 0 0,1 -2,2H5a2,2 0 0,1 -2,-2V5a2,2 0 0,1 2,-2h11"/>
                                    </svg>
                                </button>
                                <button class="action-btn reschedule-btn" title="Reschedule Task">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                                        <line x1="16" y1="2" x2="16" y2="6"/>
                                        <line x1="8" y1="2" x2="8" y2="6"/>
                                        <line x1="3" y1="10" x2="21" y2="10"/>
                                        <path d="m8,14 2,2 4,-4"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        
                        <div class="task-card">
                            <div class="task-date">
                                <span class="month">Jun</span>
                                <span class="day">29</span>
                            </div>
                            <div class="task-details">
                                <h4>Email Michael Brown</h4>
                                <p>Send quote for replacement parts</p>
                                <div class="task-info">
                                    <span class="task-type parts">Parts</span>
                                    <span class="task-time">2:00 PM</span>
                                </div>
                            </div>
                            <div class="task-actions">
                                <button class="action-btn complete-btn" title="Complete Task">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="9,11 12,14 22,4"/>
                                        <path d="m21,12v7a2,2 0 0,1 -2,2H5a2,2 0 0,1 -2,-2V5a2,2 0 0,1 2,-2h11"/>
                                    </svg>
                                </button>
                                <button class="action-btn reschedule-btn" title="Reschedule Task">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                                        <line x1="16" y1="2" x2="16" y2="6"/>
                                        <line x1="8" y1="2" x2="8" y2="6"/>
                                        <line x1="3" y1="10" x2="21" y2="10"/>
                                        <path d="m8,14 2,2 4,-4"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        
                        <div class="task-card">
                            <div class="task-date">
                                <span class="month">Jun</span>
                                <span class="day">30</span>
                            </div>
                            <div class="task-details">
                                <h4>Call Emily Wilson</h4>
                                <p>Follow up on test drive experience</p>
                                <div class="task-info">
                                    <span class="task-type sales">Sales</span>
                                    <span class="task-time">11:00 AM</span>
                                </div>
                            </div>
                            <div class="task-actions">
                                <button class="action-btn" title="Complete">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 512A256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"/></svg>
                                </button>
                                <button class="action-btn" title="Reschedule">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Help Modal -->
    <div id="helpModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Help & Support</h2>
            <p>For assistance with the Dealership Management System, please contact:</p>
            <ul>
                <li>Email: support@dms-system.com</li>
                <li>Phone: 1-800-DMS-HELP</li>
            </ul>
            <p><strong>Documentation:</strong> User manuals and training materials would be available here in a production version.</p>
        </div>
    </div>

    <!-- Search Results Modal -->
    <div id="searchResultsModal" class="modal">
        <div class="modal-content search-results-modal">
            <span class="close">&times;</span>
            <h2>Search Results</h2>
            <div class="search-results-container">
                <div class="search-tabs">
                    <button class="search-tab-btn active" data-tab="all">All</button>
                    <button class="search-tab-btn" data-tab="customers">Customers</button>
                    <button class="search-tab-btn" data-tab="vehicles">Vehicles</button>
                    <button class="search-tab-btn" data-tab="sales">Sales</button>
                    <button class="search-tab-btn" data-tab="service">Service</button>
                </div>
                <div class="search-results">
                    <!-- Results will be populated dynamically -->
                </div>
            </div>
        </div>
    </div>

    <!-- Rudy AI Assistant Modal -->
    <div id="rudyModal" class="modal">
        <div class="modal-content rudy-modal">
            <span class="close">&times;</span>
            <div class="rudy-header">
                <div class="rudy-avatar">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M320 0c17.7 0 32 14.3 32 32V96H472c39.8 0 72 32.2 72 72V440c0 39.8-32.2 72-72 72H168c-39.8 0-72-32.2-72-72V168c0-39.8 32.2-72 72-72H288V32c0-17.7 14.3-32 32-32zM208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H208zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H304zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H400zM264 256a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"/></svg>
                </div>
                <div>
                    <h2>Rudy AI Assistant</h2>
                    <p>Your dealership management helper</p>
                </div>
            </div>
            <div class="rudy-conversation">
                <div class="rudy-message">
                    <div class="rudy-avatar small">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M320 0c17.7 0 32 14.3 32 32V96H472c39.8 0 72 32.2 72 72V440c0 39.8-32.2 72-72 72H168c-39.8 0-72-32.2-72-72V168c0-39.8 32.2-72 72-72H288V32c0-17.7 14.3-32 32-32zM208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H208zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H304zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s-7.2-16-16-16H400zM264 256a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"/></svg>
                    </div>
                    <div class="message-content">
                        Hi there! I'm Rudy, your AI assistant for the Dealership Management System. How can I help you today? You can ask me questions about the system, get help with tasks, or request information about dealership operations.
                    </div>
                </div>
            </div>
            <div class="rudy-input">
                <input type="text" id="rudy-prompt" placeholder="Ask Rudy anything...">
                <button id="rudy-send">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480V396.4c0-4 1.5-7.8 4.2-10.7L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"/></svg>
                </button>
            </div>
        </div>
    </div>

    <!-- New Customer Modal -->
    <div id="newCustomerModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>New Customer</h2>
            <form id="new-customer-form">
                <div class="form-group">
                    <label for="customer-name">Name</label>
                    <input type="text" id="customer-name" name="customer-name" required>
                </div>
                <div class="form-group">
                    <label for="customer-phone">Phone</label>
                    <input type="tel" id="customer-phone" name="customer-phone" required>
                </div>
                <div class="form-group">
                    <label for="customer-email">Email</label>
                    <input type="email" id="customer-email" name="customer-email" required>
                </div>
                <div class="form-group">
                    <label for="customer-type">Type</label>
                    <select id="customer-type" name="customer-type" required>
                        <option value="retail">Retail</option>
                        <option value="wholesale">Wholesale</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="customer-notes">Notes</label>
                    <textarea id="customer-notes" name="customer-notes"></textarea>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Save Customer</button>
                    <button type="button" class="btn btn-secondary close-modal">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Import Data Modal -->
    <div id="importDataModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Import Data</h2>
            <form id="import-data-form">
                <div class="form-group">
                    <label for="import-file">Select File</label>
                    <input type="file" id="import-file" name="import-file" accept=".csv, .xls, .xlsx" required>
                </div>
                <div class="form-group">
                    <label for="file-type">File Type</label>
                    <select id="file-type" name="file-type" required>
                        <option value="customers">Customers</option>
                        <option value="vehicles">Vehicles</option>
                        <option value="sales">Sales</option>
                        <option value="service">Service</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Import Data</button>
                    <button type="button" class="btn btn-secondary close-modal">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Customer Details Modal -->
    <div id="customerDetailsModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Customer Details</h2>
            <div class="customer-details-content">
                <!-- Customer details will be populated dynamically -->
            </div>
            <div class="form-actions">
                <button type="button" class="btn btn-secondary close-modal">Close</button>
            </div>
        </div>
    </div>

    <!-- LocalStack Settings Modal -->
    <div id="localstackSettingsModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>LocalStack Settings</h2>
            <form id="localstack-settings-form">
                <div class="form-group">
                    <label for="localstack-endpoint">LocalStack Endpoint URL</label>
                    <input type="text" id="localstack-endpoint" value="http://localhost:4566">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary test-connection-btn">Test Connection</button>
                    <button type="submit" class="btn btn-primary">Save</button>
                </div>
                <div class="connection-status" style="margin-top: 15px; font-weight: bold;"></div>
            </form>
        </div>
    </div>

    <script src="../js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Add LocalStack settings button to footer
            const footer = document.querySelector('footer');
            if (footer) {
                const settingsButton = document.createElement('button');
                settingsButton.className = 'localstack-settings-btn';
                settingsButton.innerHTML = 'LocalStack Settings';
                settingsButton.style.cssText = 'background: #3498db; color: white; border: none; padding: 5px 10px; border-radius: 3px; margin-left: 15px; cursor: pointer;';
                footer.appendChild(settingsButton);
                
                // Settings modal functionality
                const localstackModal = document.getElementById('localstackSettingsModal');
                const endpoint = document.getElementById('localstack-endpoint');
                
                // Set initial value from LocalStackAPI
                if (window.LocalStackAPI) {
                    endpoint.value = window.LocalStackAPI.baseUrl;
                }
                
                // Open modal on click
                settingsButton.addEventListener('click', function() {
                    localstackModal.style.display = 'block';
                });
                
                // Close modal
                localstackModal.querySelector('.close').addEventListener('click', function() {
                    localstackModal.style.display = 'none';
                });
                
                // Test connection button
                document.querySelector('.test-connection-btn').addEventListener('click', async function() {
                    const statusEl = document.querySelector('.connection-status');
                    statusEl.textContent = 'Testing connection...';
                    statusEl.style.color = '#666';
                    
                    if (window.LocalStackAPI) {
                        window.LocalStackAPI.setEndpoint(endpoint.value);
                        const isConnected = await window.LocalStackAPI.checkConnection();
                        
                        if (isConnected) {
                            statusEl.textContent = 'Connection successful!';
                            statusEl.style.color = 'green';
                        } else {
                            statusEl.textContent = 'Connection failed. Please check the endpoint URL and ensure LocalStack is running.';
                            statusEl.style.color = 'red';
                        }
                    } else {
                        statusEl.textContent = 'LocalStackAPI not found. Make sure localstack-api.js is included in your page.';
                        statusEl.style.color = 'red';
                    }
                });
                
                // Save settings
                document.getElementById('localstack-settings-form').addEventListener('submit', function(e) {
                    e.preventDefault();
                    if (window.LocalStackAPI) {
                        window.LocalStackAPI.setEndpoint(endpoint.value);
                        localStorage.setItem('dms_localstack_endpoint', endpoint.value);
                        
                        const statusEl = document.querySelector('.connection-status');
                        statusEl.textContent = 'Settings saved!';
                        statusEl.style.color = 'green';
                        
                        setTimeout(() => {
                            localstackModal.style.display = 'none';
                            location.reload(); // Reload page to apply new settings
                        }, 1500);
                    }
                });
            }
        });
    </script>
    
    <!-- Include CRM API and module scripts -->
    <script src="../js/crm-api.js"></script>
    <script src="../js/localstack-api.js"></script>
    <script src="../js/modules.js"></script>
</body>
</html>
